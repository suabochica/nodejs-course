# Section 05: Debugging Node.js

## Index

1. Intro: Debugging Node.js
2. Debugging Node.js
3. Error Messages


## 1. Intro: Debugging Node.js

What is worse than getting an error when you run your application? Not knowing how to fix it. The weapon to face this scenarios is the debugging.

Here we will learn how to effectively debug your Node.js apps, how to track down and fix issues so you can get back to the important work.

## 2. Debugging Node.js

Node comes with a great set of tools for getting to the bottom of any bug or programming issue.

### Console.log
While it's nice to have advanced debugging tools at the ready, there's nothing wrong with using `console.log` to debug your application. It's not the fancies technique, but it works, and I developers use it daily.

When in doubt, use few call to `console.log` to figure out what is going on. It is great for dumping a variable to the terminal so you can check its values. It alos works figuring out what order your code is running in.


### Node Debugger
Printing values to the console with `console.log` is a good start, but there are often times where we need a more complete debugging solution. For that, Node.js ships with a built-in debugger. It builds off of the developer tools that Chrome and V8 use when debuggin JavaScript code in the browser.
Start your application with `inspect` to use the debugger.

```
node inspect app.js
```

Next visit `chrome://inspect` in the Chrome browser. there you will see a list of all the Node.js processes that you are able to debug. Click "inspect" next to your Node.js process to open up the developer tools. From there, you can click the blue "play" button near the top-right of the "sources" tab to start up the application.

When running the app in debug mode, you can add breakpoints into your application to stop it at a specific point in the code. This gives you a chance to explore to the application state and figure out what is going wrong.

```js
console.log('Thing one');

debugger // Debug tools will pause here until your click play again

console.log('Thing two')
```

### Links
+ [Node.js debugger documentation](https://nodejs.org/api/debugger.html)

## 3. Error Messages
Error messages contain useful information about what went wrong, but they can be a pain to read. Learning how to read them will let you fix errors fast.

### Error Messages
Error messages can be daunting to use at first. They contain a lot of useful information, but only if you know what you are looking at. Let's start with a complete error. Below is an error generated by trying to reference a variable that was never defined.

```
/Users/suabochica/Development/nodejs/nodejs-course/playground/2-arrow.js:21

  console.log(guest + 'is attending ' + eventName)
                                        ˆ
ReferenceError: eventName is not defined

at guestList.forEach (/Users/suabochica/Development/nodejs/nodejs-course/playground/2-arrow-function.js:21:52)

at Array.forEach(<anonymous>)
at Object.printGuestList(<anonymous>) //path/to/file.js:line:character
at Object.(<anonymous>) //path/to/file.js:line:character
ar Module._compile //path/to/file.js:line:character
...
```

The first few line of the error contain the most useful information.

The firs line contains a path ot the exact script where the error was thrown. It also contains the line number. Using that line, you could tell that the issues is the line 21 of `2-arrow-function.js`.

The second line show the line of code that caused the error.

the third line jus below use the `ˆ` character to point to the specific part of the line that the error came form.

The fourth line is blank.

The fifth line contain the error message from V8.

Everything after the fifth line is part of the stack trace. This show a list of all the functions that were running to get all the point where the program crashed. The top of the stack trace start with the function which threw the error. Here, we can see that the error was thrown in a callback function for a `forEach` method call. If you got down to the next line, you will figure out that the `forEach` call happened inside of `printGuestList`.

I will take a few tries to get comfortable with error messages. Each erro you fix makes it easier to fix the next one.